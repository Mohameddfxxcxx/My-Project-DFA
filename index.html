<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Security & Privacy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdnjs.cloudflare.com; style-src 'self' https://cdnjs.cloudflare.com; img-src 'self' data:;">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- SEO Optimization -->
    <title>DFA 101 Substring Visualizer | Interactive Learning Tool</title>
    <meta name="description" content="Interactive visualization tool for Deterministic Finite Automaton that recognizes '101' substring with step-by-step execution">
    <meta name="keywords" content="DFA, automata theory, computer science, 101 substring, visualization tool">
    
    <!-- Preload Resources -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preload" href="{{ url_for('static', filename='css/style.css') }}" as="style">
    <link rel="preload" href="{{ url_for('static', filename='js/script.js') }}" as="script">
    
    <!-- CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" 
          integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v=1.0">
    
    <!-- Favicon (should be placed in static/images) -->
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
</head>
<body>
    <div class="app-container">
        <header class="app-header" role="banner">
            <h1><i class="fas fa-project-diagram" aria-hidden="true"></i> DFA 101 Substring Visualizer</h1>
            <p class="subtitle">Interactive visualization of how a DFA processes strings to find the '101' substring</p>
        </header>

        <main class="app-main" role="main">
            <section class="input-section card" aria-labelledby="input-label">
                <div class="input-group">
                    <label id="input-label" for="binary-input">Enter a binary string (0s and 1s):</label>
                    <div class="input-row">
                        <input type="text" 
                               id="binary-input" 
                               placeholder="e.g., 110101" 
                               pattern="[01]*" 
                               title="Only 0s and 1s allowed"
                               aria-required="true">
                        <button id="check-btn" class="btn-primary" aria-label="Run DFA simulation">
                            <i class="fas fa-play" aria-hidden="true"></i> Run DFA
                        </button>
                    </div>
                    <div id="error-message" class="error-message" role="alert" aria-live="assertive"></div>
                </div>
            </section>

            <section class="visualization-section">
                <div class="dfa-visualization card" aria-labelledby="dfa-diagram">
                    <h2 id="dfa-diagram"><i class="fas fa-network-wired" aria-hidden="true"></i> DFA State Diagram</h2>
                    <div class="dfa-graph">
                        <div class="states-container">
                            <div class="state" id="q0" aria-label="Initial state q0">q0</div>
                            <div class="arrow" aria-hidden="true"></div>
                            <div class="state" id="q1" aria-label="State q1">q1</div>
                            <div class="arrow" aria-hidden="true"></div>
                            <div class="state" id="q2" aria-label="State q2">q2</div>
                            <div class="arrow" aria-hidden="true"></div>
                            <div class="state accepting" id="q3" aria-label="Accepting state q3">q3</div>
                        </div>
                        <div class="transitions" aria-hidden="true">
                            <div class="transition">0</div>
                            <div class="transition">1</div>
                            <div class="transition">0</div>
                            <div class="transition">1</div>
                            <div class="transition">0</div>
                            <div class="transition">0/1</div>
                        </div>
                    </div>
                </div>

                <div class="execution-trace card" aria-labelledby="execution-trace">
                    <h2 id="execution-trace"><i class="fas fa-code-branch" aria-hidden="true"></i> Execution Trace</h2>
                    <div id="result-message" class="result-message" role="status" aria-live="polite"></div>
                    <div id="path-details" class="path-details"></div>
                </div>
            </section>

            <section class="examples-section card" aria-labelledby="examples-label">
                <h3 id="examples-label"><i class="fas fa-lightbulb" aria-hidden="true"></i> Example Inputs</h3>
                <div class="examples-grid" role="group">
                    <button class="example-btn" data-example="101" aria-label="Example 101">101</button>
                    <button class="example-btn" data-example="0101" aria-label="Example 0101">0101</button>
                    <button class="example-btn" data-example="1101" aria-label="Example 1101">1101</button>
                    <button class="example-btn" data-example="1010" aria-label="Example 1010">1010</button>
                    <button class="example-btn" data-example="000" aria-label="Example 000">000</button>
                    <button class="example-btn" data-example="111011" aria-label="Example 111011">111011</button>
                </div>
            </section>
        </main>

        <footer class="app-footer" role="contentinfo">
            <p>Educational DFA visualization tool | Built with Flask</p>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/script.js') }}?v=1.0" defer></script>
    
    <!-- Noscript fallback -->
    <noscript>
        <div class="noscript-warning">
            <p>JavaScript is required for this application to function properly. Please enable JavaScript in your browser settings.</p>
        </div>
    </noscript>
</body>
</html>